<div id="dropdown" class="relative w-full">
  <div class="w-full h-6 flex items-center gap-2 relative justify-between">
    <div class="flex gap-2 w-full">
      @if (gameSelected && searchValue) {
        <img [src]="selectedGame?.image" alt="{{selectedGame?.name}}"
        class="w-7 h-7 object-cover">
      }
      <input type="text" [(ngModel)]="searchValue" (focus)="toggleDropdown(true)" (blur)="toggleDropdown(false)"
        (input)="updateSearchValue($any($event.target).value)" placeholder="Search a game"
        class="h-6 text-left pl-0.5 flex items-center gap-2 relative " style="all:unset; width:100%;">
    </div>
    @if (searchValue === '') {
    <div (click)="toggleDropdown(true)">
      <svg class="cursor-pointer" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
        width="22" height="22">
        <path fill="#FDFDFD" transform="matrix(0.0429688 0 0 0.0429688 0 3.8147e-06)"
          d="M0 198.861L-0 -0L202.354 0L228.403 0L512 0L512 492.532L512 498.745L512 512L498.952 512L491.786 512L-0 512L0 225.145L0 198.861ZM193.671 390.146L204.492 390.556C206.029 390.654 207.484 391.04 209 391.202C212.479 391.575 216.149 391.61 219.633 391.289C221.736 391.211 223.743 390.685 225.843 390.549C229.505 390.312 233.124 390.68 236.763 390.006L252.269 387.608L265.585 384.108L272.431 382.18L279.482 379.517C281.961 378.619 284.526 377.921 286.951 376.876C300.666 370.969 313.781 363.148 325.703 354.2C328.452 352.137 331.34 350.186 333.962 347.967C336.181 346.09 338.078 343.829 340.23 341.877C341.677 340.565 343.358 339.612 344.777 338.195C346.385 336.589 347.661 334.521 349.234 332.823L354.731 327.28C355.669 326.257 356.419 325.131 357.259 324.036C358.291 322.689 359.475 321.465 360.447 320.067L363.45 316.07C367.623 310.157 371.779 304.046 375.184 297.636L378.857 290.095C381.3 285.227 384.029 280.488 385.545 275.215C385.945 273.822 386.636 272.557 387.154 271.207C388.142 268.628 388.933 265.895 389.749 263.25L391.763 255.5C392.558 252.663 393.51 249.892 394.079 246.993C394.726 243.705 395.032 240.167 395.519 236.834C395.684 235.701 396.025 234.621 396.161 233.477C396.422 231.287 396.367 229.079 396.582 226.888C396.679 225.906 397.074 224.971 397.145 224.03C397.729 216.253 397.749 208.233 397.128 200.466L393.945 176.21C393.329 173.138 392.28 170.056 391.44 167.029C389.155 158.795 386.692 150.629 383.334 142.75C382.328 140.39 381.055 138.162 379.91 135.872C378.104 132.258 376.47 128.439 374.485 124.93L371.168 119.535C369.622 116.987 368.233 114.294 366.543 111.839L359.914 103.083C358.239 100.915 356.644 98.6003 354.827 96.5571L349.097 90.6771C347.785 89.2423 346.721 87.6138 345.379 86.1905C344.165 84.9032 342.756 84.0325 341.474 82.8677L336.117 77.853C335.234 77.0167 334.324 75.9741 333.317 75.3137C331.849 74.3505 330.533 73.1476 329.125 72.0988L317.373 63.4262C315.581 62.2354 313.606 61.2958 311.75 60.2275L304.991 56.0654L294.645 50.8566C291.824 49.4717 289.098 47.9838 286.177 46.7982L277.8 43.875L271.461 41.4795C265.064 39.371 258.333 37.7598 251.747 36.375L242.026 34.8118C239.223 34.4007 236.475 33.8827 233.647 33.6647C230.641 33.433 227.031 33.9526 224.124 33.2377C219.857 32.188 214.468 32.2972 210.147 32.749C208.649 32.9056 207.131 33.3675 205.648 33.4416C202.035 33.6222 198.159 33.1986 194.609 33.9297L178.253 36.5689C168.32 38.4982 158.394 41.6407 148.978 45.3127C143.723 47.3621 138.542 49.4063 133.595 52.1679C132.457 52.8027 131.229 53.0595 130.084 53.6524L122.747 57.875C122.37 58.0791 122.029 58.2333 121.676 58.4824C119.387 60.0963 116.818 61.3245 114.461 62.8511L99.5327 73.5599C97.0933 75.4792 95.064 77.8416 92.763 79.9081C91.2436 81.2727 89.5346 82.3564 88.0252 83.7917C84.8802 86.7826 82.2719 89.9571 79.4385 93.1941C77.5589 95.3414 75.3545 97.2043 73.5785 99.4482L68.6822 106.234C67.1965 108.209 65.2843 110.176 64.0575 112.314L56.1094 125.163C53.021 130.705 49.8148 136.564 47.3493 142.417C45.8977 145.863 44.8752 149.524 43.5593 153.028C42.7693 155.132 41.4845 157.495 41.0504 159.658C40.975 160.034 40.9225 160.355 40.7847 160.716C39.8753 163.096 39.5966 165.79 38.9137 168.25C36.5301 176.838 34.7646 185.855 34.0585 194.75C33.9189 196.508 33.4271 198.217 33.3202 200.007C32.978 205.737 33.1676 211.58 33.2231 217.32C33.2515 220.26 32.8451 224.016 33.6066 226.822C34.047 228.445 33.9853 230.11 34.1615 231.774C34.317 233.243 34.6322 234.579 34.875 236.018C35.1569 237.688 35.2097 239.383 35.6186 241.045C36.1175 243.072 35.9302 245.22 36.6061 247.197C36.9741 248.274 36.8013 249.612 37.2731 250.567C37.4787 250.984 37.7742 251.408 37.8549 251.875C37.9975 252.699 37.8778 253.759 38.2764 254.498C39.0062 255.851 38.6531 257.192 39.255 258.383C39.4864 258.84 39.7687 259.253 39.875 259.763C40.0576 260.638 39.8457 261.632 40.2677 262.444C40.8359 263.536 40.7578 264.814 41.2903 265.768C41.9049 266.869 42.4653 268.203 42.8472 269.424C43.0672 270.127 43.0331 270.659 43.4501 271.32C44.0027 272.195 43.8602 273.096 44.3166 273.963C44.7758 274.835 44.8298 275.484 45.1547 276.375C45.3275 276.848 45.6755 277.169 45.841 277.677C46.2712 278.997 46.6566 280.684 47.3295 281.885L51.4093 290.154L56.1601 299.262C56.8137 300.407 57.6748 301.492 58.3705 302.625L64.4206 312.338L69.625 319.235C70.9932 321.081 72.3072 323.078 73.7748 324.838C75.4751 326.878 77.358 328.696 79.1853 330.613C79.9719 331.439 80.5778 332.431 81.3749 333.223C83.1195 334.958 84.599 336.981 86.3793 338.696L93.3819 344.813C95.4451 346.603 97.3099 348.654 99.444 350.364C106.202 355.778 113.58 360.705 121.024 365.12C123.902 366.826 126.846 368.988 129.945 370.265C134.662 372.209 139.122 374.754 143.759 376.875C145.879 377.845 148.255 378.482 150.451 379.288C155.906 381.287 161.287 383.327 166.935 384.744L186.488 388.959L191.218 389.612C191.906 389.69 192.864 389.67 193.476 390.006L193.671 390.146ZM0 225.145L-0 512L491.786 512C490.467 511.017 488.631 510.841 487.307 509.924L486.642 509.487C484.471 508.252 482.851 506.517 481.102 504.772L474.648 498.335L457.164 480.946L441.959 466.524L388.73 413.533C386.963 411.806 384.974 410.407 383.217 408.686L362.313 387.944C358.745 384.385 355.143 380.191 351.122 377.183C346.348 379.847 342.296 383.333 337.858 386.47L327.782 392.81C327.392 393.033 327.038 393.199 326.675 393.471C323.315 395.987 319.192 397.926 315.426 399.778L305.828 404.581L289.568 411.128C286.625 412.383 283.552 413.074 280.5 413.981C276.25 415.243 272.079 416.715 267.75 417.716C257.889 419.996 248.084 421.611 238.033 422.761C236.666 422.917 235.344 423.314 233.983 423.446C231.111 423.726 228.07 423.525 225.173 423.535L210.301 423.618C205.649 423.586 200.355 424.052 195.821 423.204C191.984 422.486 187.966 422.387 184.085 421.89C177.482 421.044 170.814 419.566 164.306 418.159C158.117 416.822 151.924 414.749 145.94 412.688L129.639 406.769C125.872 405.187 122.146 403.138 118.5 401.27C110.514 397.179 102.556 392.925 95.0949 387.903L78.9511 376.092C76.313 374.214 74.0315 371.665 71.6352 369.478L67.8961 366.368L56.375 354.968C55.1054 353.623 54.1211 352.073 52.875 350.709C51.017 348.676 48.7014 346.781 47.2005 344.469L38.2968 332.755C36.2033 330.298 34.5548 327.41 32.8207 324.697L25.4454 312.048L21.8929 305.848C20.516 303.143 19.447 300.348 18.2364 297.572L15.1188 290.781L10.326 277.272C7.79382 269.634 5.43281 261.811 4.01787 253.875C3.17873 249.169 2.12761 244.246 1.65694 239.5L0.807673 230.475C0.645395 228.795 0.630398 226.965 0.0799612 225.361L0 225.145ZM228.403 0L228.642 0.0811273C231.103 0.862517 233.834 0.714781 236.375 1.14692C238.244 1.46485 240.218 1.40537 242.11 1.60642L254.125 3.3775C264.533 5.34156 274.605 7.83579 284.656 11.1901C287.95 12.2896 291.331 13.349 294.538 14.6849L318.67 25.875C324.351 28.8207 329.702 32.5328 335.218 35.7745L352.494 48.3366C354.848 50.1015 356.833 52.3053 359 54.2788L366.692 61C369.356 63.5481 371.629 66.3793 374.169 69L389.548 87.442C390.519 88.8089 391.615 90.0859 392.515 91.4964L402.45 106.786L403.248 108.299L409.546 120.265C410.916 122.594 412.094 125.491 413.17 128C413.633 129.081 413.979 130.48 414.642 131.417C415.291 132.334 415.817 134.357 416.168 135.487C416.354 136.085 416.24 135.832 416.571 136.318C417.589 137.809 417.851 140.018 418.673 141.625C419.038 142.34 418.902 143.311 419.248 144C419.365 144.233 419.6 144.393 419.717 144.625C420.192 145.563 420.168 146.62 420.687 147.625C421.158 148.536 420.785 149.757 421.377 150.542C422.199 151.634 421.866 153.117 422.588 154.259C423.153 155.152 422.921 156.082 423.27 157C423.464 157.511 423.486 157.178 423.707 157.625C424.269 158.763 424.056 160.435 424.552 161.75C425.086 163.167 424.874 164.695 425.579 166.013C426.112 167.009 425.952 168.295 426.173 169.375C426.716 172.03 427.526 174.736 427.918 177.422C428.262 179.779 428.185 182.074 428.755 184.414C429.453 187.279 428.954 190.349 429.709 193.242C430.092 194.71 430.043 196.293 430.117 197.801L430.291 206.522C430.33 213.837 430.521 221.366 430.086 228.664C430.03 229.602 429.753 230.486 429.633 231.414L429.011 237.375C428.865 238.717 428.469 240.034 428.297 241.375L427.317 248.505C427.117 250.081 427.084 251.633 426.627 253.163L423.319 266.375C422.722 268.674 422.366 271.23 421.468 273.426L416.835 287.017C416.491 288.381 415.735 289.72 415.157 291.007L412.356 297.162L408.681 305.625C407.126 308.805 405.149 311.845 403.375 314.905L398.362 323.625C396.544 326.545 394.171 329.256 392.508 332.253C392.033 333.108 391.321 333.827 390.755 334.625L386.448 340.625C384.353 343.303 381.965 345.778 379.733 348.347C378.768 349.458 378.021 350.693 377.02 351.786C376.289 352.584 375.607 353.242 374.723 353.872L383.4 362.564C385.498 364.543 387.894 366.349 389.875 368.407L392.796 371.292L394.816 373.3L398.52 377L452.875 430.407L457.813 435.3L461.52 439L498.79 476.053C502.809 479.95 507.586 483.847 510.3 488.778L512 492.532L512 0L228.403 0ZM0 198.861C0.449752 197.898 0.481051 196.734 0.652451 195.688C1.32391 191.591 1.08392 187.361 1.7993 183.327C3.54142 173.503 5.09639 163.874 7.82944 154.243L13.53 137.222C14.7406 133.132 16.9772 129.125 18.747 125.25C19.1937 124.272 19.4625 123.241 19.8927 122.266L24.2898 113.505C25.3031 111.617 26.597 109.855 27.547 107.945C29.2755 104.47 31.4445 101.082 33.625 97.8775C35.1763 95.5979 36.5762 93.2345 38.2526 91.0307C40.2446 88.4119 42.512 85.9421 44.375 83.2233L47.4485 79.0612C49.0511 76.7492 51.2176 75.0099 53.0514 72.9133C54.2292 71.5667 55.1918 70.0606 56.4005 68.7207L62.2468 62.8375C63.9627 61.1205 65.6001 59.2775 67.4461 57.6967C68.5029 56.7918 69.7057 56.0546 70.7677 55.1373C72.7771 53.4016 74.4951 51.3276 76.5208 49.625C79.0446 47.5038 81.8558 45.6021 84.498 43.6216L92.7144 37.4496C96.5176 34.8362 100.657 32.5989 104.625 30.2461C109.841 27.1534 115.136 24.011 120.589 21.3498C128.769 17.3572 137.146 14.1987 145.77 11.3245C151.681 9.35429 157.676 7.42395 163.753 6.01949C171.211 4.29605 178.59 2.91202 186.19 1.94557L196.164 0.858465C198.094 0.675941 200.307 0.719483 202.138 0.0813729L202.354 0L-0 -0L0 198.861ZM512 498.745C511.293 500.17 510.897 501.724 510.112 503.084C509.75 503.711 509.565 504.409 509.141 505C507.344 507.44 505.593 509.126 502.75 510.258C501.526 510.745 500.064 511.32 498.952 512L512 512L512 498.745ZM498.79 476.053L498.877 477.625C499.228 477.858 499.49 477.977 499.877 478.125L500.001 478.749C500.574 479.035 500.6 478.939 500.877 479.5C501.059 479.867 501.525 480.001 501.875 480.127L501.627 480.375C502.048 480.735 502.352 480.943 502.875 481.127L502.627 481.5C502.856 481.728 502.908 481.847 503.227 481.928L503.875 482.127L503.627 482.5L504.125 483.123L504.377 482.875L504.75 483.123L504.627 483.5C504.856 483.728 504.908 483.847 505.227 483.928L505.875 484.127L505.627 484.5L506.125 485.123L506.625 485.127L506.377 485.375C506.709 485.872 506.805 486.057 507.377 486.25C507.456 486.568 507.434 486.682 507.675 486.914C508.474 487.682 508.655 488.171 509.127 489.125L509.377 489.5C509.377 490.719 509.131 491.482 509.995 492.423L510.75 492.453L511.069 494.648C511.185 495.59 511.068 496.336 510.914 497.25L510.688 499.188L510.001 499.501L509.9 499.829C509.654 500.566 509.873 499.953 509.549 500.602C509.29 501.121 509.343 501.568 509.375 502.127L509.127 502.5L509.141 505C509.565 504.409 509.75 503.711 510.112 503.084C510.897 501.724 511.293 500.17 512 498.745L512 492.532L510.3 488.778C507.586 483.847 502.809 479.95 498.79 476.053ZM193.671 390.146C194.041 390.88 194.013 391.007 194.75 391.336C195.117 391.288 195.166 391.261 195.516 391.375C197.529 392.028 200.417 392.056 202.526 392.086C203.812 392.105 205.563 391.64 206.668 392.354L206.893 392.232C207.421 391.989 207.898 391.923 208.455 392.075C210.06 392.511 212.042 391.9 213.615 391.859L218.873 391.863L219.633 391.289C216.149 391.61 212.479 391.575 209 391.202C207.484 391.04 206.029 390.654 204.492 390.556L193.671 390.146Z" />
        <path fill="#FDFDFD" fill-opacity="0.92941177" transform="matrix(0.0429688 0 0 0.0429688 0 3.8147e-06)"
          d="M193.671 390.146L204.492 390.556C206.029 390.654 207.484 391.04 209 391.202C212.479 391.575 216.149 391.61 219.633 391.289L218.873 391.863L213.615 391.859C212.042 391.9 210.06 392.511 208.455 392.075C207.898 391.923 207.421 391.989 206.893 392.232L206.668 392.354C205.563 391.64 203.812 392.105 202.526 392.086C200.417 392.056 197.529 392.028 195.516 391.375C195.166 391.261 195.117 391.288 194.75 391.336C194.013 391.007 194.041 390.88 193.671 390.146Z" />
        <path fill="#FDFDFD" fill-opacity="0.96078432" transform="matrix(0.0429688 0 0 0.0429688 0 3.8147e-06)"
          d="M498.79 476.053C502.809 479.95 507.586 483.847 510.3 488.778L512 492.532L512 498.745C511.293 500.17 510.897 501.724 510.112 503.084C509.75 503.711 509.565 504.409 509.141 505L509.127 502.5L509.375 502.127C509.343 501.568 509.29 501.121 509.549 500.602C509.873 499.953 509.654 500.566 509.9 499.829L510.001 499.501L510.688 499.188L510.914 497.25C511.068 496.336 511.185 495.59 511.069 494.648L510.75 492.453L509.995 492.423C509.131 491.482 509.377 490.719 509.377 489.5L509.127 489.125C508.655 488.171 508.474 487.682 507.675 486.914C507.434 486.682 507.456 486.568 507.377 486.25C506.805 486.057 506.709 485.872 506.377 485.375L506.625 485.127L506.125 485.123L505.627 484.5L505.875 484.127L505.227 483.928C504.908 483.847 504.856 483.728 504.627 483.5L504.75 483.123L504.377 482.875L504.125 483.123L503.627 482.5L503.875 482.127L503.227 481.928C502.908 481.847 502.856 481.728 502.627 481.5L502.875 481.127C502.352 480.943 502.048 480.735 501.627 480.375L501.875 480.127C501.525 480.001 501.059 479.867 500.877 479.5C500.6 478.939 500.574 479.035 500.001 478.749L499.877 478.125C499.49 477.977 499.228 477.858 498.877 477.625L498.79 476.053Z" />
      </svg>
    </div>
    } @else {
    <div (click)="resetSearch()">
      <svg class="cursor-pointer" xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22">
        <path fill="#DC2626" transform="scale(0.0429688 0.0429688)"
          d="M462.248 32.0693C467.022 31.9007 471.1 32.9189 474.746 36.1463C477.943 38.9769 479.698 43.0456 479.909 47.2733C480.098 51.0665 478.875 54.7773 476.543 57.7491C474.772 60.0047 472.582 61.9918 470.556 64.0203L460.438 74.1357L426.701 107.874L328.151 206.475L295.929 238.695L278.702 256.065L293.656 270.955L323.207 300.538L399.492 376.75L453.172 430.431L469.965 447.203C471.985 449.259 474.216 451.214 476.078 453.408C478.385 456.125 479.601 459.136 479.952 462.689C480.37 466.93 478.803 471.237 476.065 474.441C473.243 477.744 469.303 479.629 465.003 479.92C461.54 480.154 457.761 479.273 454.961 477.163C452.555 475.35 450.493 473.095 448.38 470.958L439.623 462.188L407.761 430.336L306.03 328.709L271.935 294.594C266.653 289.346 261.521 283.665 255.909 278.785L207.361 327.267L114.769 419.861L77.4283 457.194L65.8414 468.778C63.5596 471.066 61.3194 473.512 58.9018 475.653C56.7019 477.601 54.4614 478.68 51.7061 479.644C48.7645 480.079 46.0546 480.135 43.1668 479.295C39.3279 478.179 35.4195 474.69 33.6708 471.136C31.9697 467.679 31.5795 462.888 32.8453 459.222L32.9697 458.875C33.8231 456.324 35.1377 454.337 36.9403 452.361L46.8418 442.404L65.839 423.404L123.849 365.375L195.209 293.946L233.208 256.077C232.621 255.058 231.345 254.053 230.496 253.195L224.136 246.82L200.068 222.744L87.7133 110.292L52.7295 75.2931L42.5107 65.079C40.3692 62.9481 38.0383 60.848 36.1338 58.5066C34.2194 56.1531 33.154 53.2062 33.0118 50.1791C32.8026 45.7274 33.9745 41.3732 37.051 38.0337L37.2883 37.7822C39.9634 34.9107 43.6698 33.2565 47.5887 33.0081C51.8864 32.7357 55.4299 33.9144 58.8611 36.4833C60.8475 37.9704 62.626 39.9999 64.3832 41.7612L73.4316 50.8122L105.191 82.5493L206.272 183.583L238.895 216.203C244.555 221.861 250.074 227.957 256.087 233.22L271.375 217.824L298.198 190.971L377.618 111.507L428.239 60.8766L444.362 44.7352C447.334 41.7442 450.253 38.4671 453.476 35.7453C456.136 33.4985 458.863 32.6272 462.248 32.0693Z" />
      </svg>
    </div>
    }
  </div>
  @if (showDropdown) {
  <div id="dropdown-content"
    class=" mt-3 absolute z-10 flex flex-col gap-2 bg-white bg-opacity-25 backdrop-blur-md p-6 w-full rounded-md max-h-80 overflow-y-auto border border-white border-opacity-20">
    @for (game of filteredGames.slice(0, 10); track $index) {
    <div (click)="selectGame(game)" class="flex items-center gap-2 cursor-pointer border-b pb-2">
      <img [src]="game.image" alt="{{game.name}}"
        class="w-10 h-10 object-cover rounded-md bg-slate-50 p-1">{{game.name}}
    </div>
    }
  </div>
  }
</div>
